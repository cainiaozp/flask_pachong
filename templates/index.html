<!DOCTYPE html> <!-- 声明文档类型为HTML5 -->
<html lang="en"> <!-- 指定语言为英文 -->
<head>
    <meta charset="utf-8"/> <!-- 设置页面字符编码为UTF-8 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <!-- 为IE浏览器设置兼容性模式 -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <!-- 设置页面宽度与设备宽度相同，并且禁止缩放 -->
    <meta name="description" content=""/> <!-- 页面描述信息 -->
    <meta name="author" content=""/> <!-- 页面作者信息 -->
     <meta name="referrer" content="no-referrer" /> <!-- 设置referral信息，这里设置为no-referrer，表示不传递referrer信息 -->
    <title>首页</title> <!-- 网页标题 -->
    <link href="static/css/index.css" rel="stylesheet"/> <!-- 导入index.css样式文件 -->
    <link href="static/css/styles.css" rel="stylesheet"/> <!-- 导入styles.css样式文件 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"
            crossorigin="anonymous"></script> <!-- 导入FontAwesome字体库的JavaScript文件 -->
</head>
<style> <!-- 在HTML文件中嵌入CSS样式 -->
    a { <!-- 设置所有超链接元素的文本装饰为none，即去掉下划线 -->
        text-decoration: none;
    }
    .movie_action{ <!-- 给具有movie_action类的元素设置样式 -->
        position: absolute; <!-- 设置绝对定位 -->
        z-index: 2; <!-- 设置元素的z轴层级为2 -->
        left: 50%; <!-- 将元素向左偏移50% -->
        top: 50%; <!-- 将元素向上偏移50% -->
        width: 30%; <!-- 设置元素宽度为30% -->
        transform: translate(-50%,-50%); <!-- 将元素向左上方平移50% -->
    }
    .bg{ <!-- 给具有bg类的元素设置样式 -->
        position: absolute; <!-- 设置绝对定位 -->
        width: 100%; <!-- 设置元素宽度为100% -->
        height: 100%; <!-- 设置元素高度为100% -->
        left: 0; <!-- 将元素向左对齐 -->
        top: 0; <!-- 将元素向上对齐 -->
        background: rgba(0,0,0,.2); <!-- 设置元素的背景色为黑色，透明度为0.2 -->
    }
    .nav-item:hover .dropdown-menu{ <!-- 给具有nav-item类的元素，当鼠标悬浮时，给其子元素dropdown-menu设置样式 -->
        display: block; <!-- 显示子元素dropdown-menu -->
    }
</style>
<body class="sb-nav-fixed"> <!-- 设置网页主体的类为sb-nav-fixed -->
<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark"><!-- 定义了一个导航栏，并设置了背景颜色为深色。 -->
    <a class="navbar-brand ps-3" href="index.html">岗位招聘数据分析系统</a><!--定义了导航栏的品牌名称并设置了左边距为3个像素。-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i
            class="fas fa-bars"></i></button><!--定义了一个按钮，当屏幕尺寸较小时会在导航栏左侧显示，点击按钮会打开侧边栏。-->
    <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0"><!--定义了一个空的表单，该表单只在中等尺寸以上的屏幕显示。-->
    </form>
    <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4"><!--定义了一个无序列表，并设置了右边距和左边距。-->
        <li class="nav-item dropdown"><!--定义了一个列表项，并指定其为下拉列表。-->
            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
               aria-expanded="false"><!--定义了一个链接，并指定其为下拉列表的触发器。-->
                <i class="fas fa-user fa-fw"></i><!--在链接中添加了一个图标。-->
                {{ email }}<!--在链接中添加了一个变量，用于显示当前用户的邮箱。-->
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown"><!--定义了一个下拉菜单，并设置其在触发器的右侧。-->
                <li><a class="dropdown-item" href="/login">退出登录</a></li><!--定义了下拉菜单中的一个列表项，并添加了一个链接，用于退出登录。-->
            </ul>
        </li>
    </ul>
</nav>
<div id="layoutSidenav">
    <div id="layoutSidenav_nav">
        <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
            <div class="sb-sidenav-menu">
                <div class="nav">
                    <div class="sb-sidenav-menu-heading">首页</div>
                    <a class="nav-link active" href="/home">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-display" viewBox="0 0 16 16">
                              <path d="M0 4s0-2 2-2h12s2 0 2 2v6s0 2-2 2h-4c0 .667.083 1.167.25 1.5H11a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h.75c.167-.333.25-.833.25-1.5H2s-2 0-2-2V4zm1.398-.855a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3H2c-.325 0-.502.078-.602.145z"/>
                            </svg>
                        </div>
                        首页
                    </a>
                    <a class="nav-link " href="/search/0">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                            </svg>
                        </div>
                        搜索
                    </a>
                    <div class="sb-sidenav-menu-heading">招聘数据可视化</div>
                   <a class="nav-link " href="/time_t">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-alarm" viewBox="0 0 16 16">
                                <path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5z"/>
                                <path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM0 3.5c0 .753.333 1.429.86 1.887A8.035 8.035 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5zM13.5 1c-.753 0-1.429.333-1.887.86a8.035 8.035 0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1z"/>
                            </svg>
                        </div>
                        平均薪资前20的城市
                    </a>
                    <a class="nav-link " href="/address_t">
                        <div class="sb-nav-link-icon">
                           <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16">
                              <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"/>
                            </svg>
                        </div>
                        学历招聘排行
                    </a>
                    <a class="nav-link " href="/type_t">
                        <div class="sb-nav-link-icon">
                           <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-back" viewBox="0 0 16 16">
                              <path d="M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z"/>
                            </svg>
                        </div>
                        招聘数前20的城市
                    </a>
                    <div class="collapse" id="collapsePages" aria-labelledby="headingTwo"
                         data-bs-parent="#sidenavAccordion">
                        <nav class="sb-sidenav-menu-nested nav accordion" id="sidenavAccordionPages">
                            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
                               data-bs-target="#pagesCollapseAuth" aria-expanded="false"
                               aria-controls="pagesCollapseAuth">
                                Authentication
                                <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="pagesCollapseAuth" aria-labelledby="headingOne"
                                 data-bs-parent="#sidenavAccordionPages">
                                <nav class="sb-sidenav-menu-nested nav">
                                    <a class="nav-link" href="login.html">Login</a>
                                    <a class="nav-link" href="register.html">Register</a>
                                    <a class="nav-link" href="password.html">Forgot Password</a>
                                </nav>
                            </div>
                            <a class="nav-link collapsed" href="#" data-bs-toggle="collapse"
                               data-bs-target="#pagesCollapseError" aria-expanded="false"
                               aria-controls="pagesCollapseError">
                                Error
                                <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                            </a>
                            <div class="collapse" id="pagesCollapseError" aria-labelledby="headingOne"
                                 data-bs-parent="#sidenavAccordionPages">
                                <nav class="sb-sidenav-menu-nested nav">
                                    <a class="nav-link" href="401.html">401 Page</a>
                                    <a class="nav-link" href="404.html">404 Page</a>
                                    <a class="nav-link" href="500.html">500 Page</a>
                                </nav>
                            </div>
                        </nav>
                    </div>
                    <div class="sb-sidenav-menu-heading">词云图分析</div>
                    <a class="nav-link " href="/title_c">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-chat-left-dots" viewBox="0 0 16 16">
                                <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                <path d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                            </svg>
                        </div>
                        岗位词云图
                    </a>
                    <a class="nav-link " href="/summary_c">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-body-text" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                      d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
                            </svg>
                        </div>
                        公司词云图
                    </a>
                    <a class="nav-link " href="/summary_c">
                        <div class="sb-nav-link-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                 class="bi bi-body-text" viewBox="0 0 16 16">
                                <path fill-rule="evenodd"
                                      d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>
                            </svg>
                        </div>
                        福利词云图
                    </a>
                </div>
            </div>
        </nav>
    </div>
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active"></li>
                </ol>
                <div class="row" align="center">
                    <div class="col-xl-2 col-md-6" >
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body" >已爬岗位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between" >
                                <a class="small text-white stretched-link" href="#" id="allCount">{{ allCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right" ></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body">本科位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                                <a class="small text-white stretched-link" href="#" id="benkeCount">{{ benkeCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body">博士岗位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                                <a class="small text-white stretched-link" href="#" id="boshiCount">{{ boshiCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body">硕士岗位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                                <a class="small text-white stretched-link" href="#" id="shuoshiCount">{{ shuoshiCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body">大专岗位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                                <a class="small text-white stretched-link" href="#" id="dazhuanCount">{{ dazhuanCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;">
                            <div class="card-body">中专岗位个数</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                                <a class="small text-white stretched-link" href="#" id="zhongzhuanCount">{{ zhongzhuanCount }}</a>
                                <div class="small text-white"><i class="fas fa-angle-right" ></i></div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-xl-6" style="width: 100%;">
                        <div class="card mb-4">
                            <div class="card-header">
                                <i class="fas fa-chart-area me-1"></i>
                                嘉兴人事人才网
                            </div>
                            <div class="card-body">
                                <H2>嘉兴人事人才网</H2>
                            <p style="text-indent: 2em;">嘉兴人事人才网是嘉兴市人才交流服务中心推出的一个以专业化、功能化、市场化为导向的网络招聘平台，是嘉兴市人才中心的官方网站,成立于2003年的嘉兴人事人才网经过多年的发展，致力于为企业招聘和人才求职提供良好的互动平台，现已成为嘉兴人事人才政策最权威、综合服务功能最强大的人才网站。</p>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd; width: 150px">
                            <div class="card-body" id="start-spider">开始爬取</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6">
                        <div class="card  text-white mb-4" style="background-color: #0d6efd;  width: 150px">
                            <div class="card-body" id="stop-spider">结束爬取</div>
                            <div class="card-footer d-flex align-items-center justify-content-between">
                            </div>
                        </div>
                    </div>
                                <div id="mainOne" style="width: 100%;height: 170px"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
            <div class="container-fluid px-4">
                <div class="d-flex align-items-center justify-content-between small">
                    <div class="text-muted">Copyright &copy; 数据可视化分析 2023</div>
                </div>
            </div>
        </footer>
    </div>
</div>
{#<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>#}
<script src="static/js/scripts.js"></script>
<script src="static/js/jquery.min.js"></script>
<script src="static/lib/sb-admin-2.min.js"></script>
<script src="static/assets/demo/chart-area-demo.js"></script>
<script src="static/assets/demo/chart-bar-demo.js"></script>
<script src="static/js/table.js" crossorigin="anonymous"></script>
<script src="static/js/datatables-simple-demo.js"></script>
<script>
    var startDom = document.getElementById('start-spider');
    startDom.onclick = function () {
        console.log("-----startDom------");
        startDom.innerText = "正在爬取中~";
        stopDoms.innerText = "结束爬取"
        $.get('/jxStart', {},
            function (data) {
                console.log(data);
            }
        );

    }


</script>

<script>
    var stopDoms = document.getElementById('stop-spider');
    var startDom = document.getElementById('start-spider');
    stopDoms.onclick = function () {
        console.log("-----stopDoms------");
        startDom.innerText = "开始爬取";
        $.get('/jxStop', {},
            function (data) {
                console.log(data.code);
                stopDoms.innerText = '一共爬取了' +  String(data.page) + "页"
            }
        );

    }

</script>
<script>
window.onload(
    setInterval(() => {
      // 10 秒之后运行。
        $.get('/index_data', {},
            function (data) {

                    var allCount = document.getElementById('allCount');
    var benkeCount = document.getElementById('benkeCount');
    var dazhuanCount = document.getElementById('dazhuanCount');
    var zhongzhuanCount = document.getElementById('zhongzhuanCount');
    var boshiCount = document.getElementById('boshiCount');
    var shuoshiCount = document.getElementById('shuoshiCount');
                allCount.innerText = data.allCount
                benkeCount.innerText = data.benkeCount
                dazhuanCount.innerText = data.dazhuanCount
                zhongzhuanCount.innerText = data.zhongzhuanCount
                boshiCount.innerText = data.boshiCount
                shuoshiCount.innerText = data.shuoshiCount
            }
        );
    }, 2000)
)


</script>
</body>
</html>

{#加载 scripts.js 脚本文件#}
<script src="static/js/scripts.js"></script>

{#加载 jQuery 库#}
<script src="static/js/jquery.min.js"></script>

{#加载 sb-admin-2.min.js 脚本文件#}
<script src="static/lib/sb-admin-2.min.js"></script>

{#// 加载 chart-area-demo.js 脚本文件#}
<script src="static/assets/demo/chart-area-demo.js"></script>

{#// 加载 chart-bar-demo.js 脚本文件#}
<script src="static/assets/demo/chart-bar-demo.js"></script>

{#// 加载 table.js 脚本文件#}
<script src="static/js/table.js" crossorigin="anonymous"></script>

{#// 加载 datatables-simple-demo.js 脚本文件#}
<script src="static/js/datatables-simple-demo.js"></script>

{#// 开始爬取按钮点击事件#}
<script>
    var startDom = document.getElementById('start-spider');
    startDom.onclick = function () {
        console.log("-----startDom------");
        startDom.innerText = "正在爬取中~";
        stopDoms.innerText = "结束爬取"
        $.get('/jxStart', {},
            function (data) {
                console.log(data);
            }
        );

    }
</script>

{#// 结束爬取按钮点击事件#}
<script>
    var stopDoms = document.getElementById('stop-spider');
    var startDom = document.getElementById('start-spider');
    stopDoms.onclick = function () {
        console.log("-----stopDoms------");
        startDom.innerText = "开始爬取";
        $.get('/jxStop', {},
            function (data) {
                console.log(data.code);
                stopDoms.innerText = '一共爬取了' +  String(data.page) + "页"
            }
        );

    }
</script>

{#// 页面加载事件#}
<script>
window.onload(
    // 每隔2秒发送 AJAX 请求获取数据并更新页面元素
    setInterval(() => {
        $.get('/index_data', {},
            function (data) {
                var allCount = document.getElementById('allCount');
                var benkeCount = document.getElementById('benkeCount');
                var dazhuanCount = document.getElementById('dazhuanCount');
                var zhongzhuanCount = document.getElementById('zhongzhuanCount');
                var boshiCount = document.getElementById('boshiCount');
                var shuoshiCount = document.getElementById('shuoshiCount');
                allCount.innerText = data.allCount
                benkeCount.innerText = data.benkeCount
                dazhuanCount.innerText = data.dazhuanCount
                zhongzhuanCount.innerText = data.zhongzhuanCount
                boshiCount.innerText = data.boshiCount
                shuoshiCount.innerText = data.shuoshiCount
            }
        );
    }, 2000)
)
</script>

{#// HTML 文件结束标签#}
</body>
</html>
